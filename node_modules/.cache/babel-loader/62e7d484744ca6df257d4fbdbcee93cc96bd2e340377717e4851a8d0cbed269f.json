{"ast":null,"code":"import _regeneratorRuntime from\"D:/java projects/library-management-system/library/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/java projects/library-management-system/library/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/java projects/library-management-system/library/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MemberId(props){var selectedMemberId=props.selectedMemberId,onMemberSelect=props.onMemberSelect;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),memberList=_useState2[0],setMemberList=_useState2[1];useEffect(function(){function fetchMemberList(){return _fetchMemberList.apply(this,arguments);}function _fetchMemberList(){_fetchMemberList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8080/members/all\",{headers:{Authorization:sessionStorage.getItem(\"token\")}});case 3:response=_context.sent;setMemberList(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _fetchMemberList.apply(this,arguments);}fetchMemberList();},[]);return/*#__PURE__*/_jsxs(\"select\",{value:selectedMemberId,onChange:function onChange(e){return onMemberSelect(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:null,children:\"Available\"}),memberList.map(function(member){return/*#__PURE__*/_jsx(\"option\",{value:member.id,children:\"\".concat(member.id,\" \").concat(member.name,\" \").concat(member.lastName)},member.id);})]});}export default MemberId;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","MemberId","props","selectedMemberId","onMemberSelect","_useState","_useState2","_slicedToArray","memberList","setMemberList","fetchMemberList","_fetchMemberList","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","headers","Authorization","sessionStorage","getItem","sent","data","t0","console","log","stop","value","onChange","e","target","children","map","member","id","concat","name","lastName"],"sources":["D:/java projects/library-management-system/library/src/components/MemberId.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction MemberId(props) {\r\n  const { selectedMemberId, onMemberSelect } = props;\r\n  const [memberList, setMemberList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchMemberList() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8080/members/all\", {\r\n          headers: { Authorization: sessionStorage.getItem(\"token\") },\r\n        });\r\n        setMemberList(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n    fetchMemberList();\r\n  }, []);\r\n\r\n  return (\r\n    <select value={selectedMemberId} onChange={(e) => onMemberSelect(e.target.value)}>\r\n      <option value={null}>Available</option>\r\n      {memberList.map((member) => (\r\n        <option key={member.id} value={member.id}>\r\n          {`${member.id} ${member.name} ${member.lastName}`}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  );\r\n}\r\n\r\nexport default MemberId;\r\n"],"mappings":"waAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,QAAQA,CAACC,KAAK,CAAE,CACvB,GAAQ,CAAAC,gBAAgB,CAAqBD,KAAK,CAA1CC,gBAAgB,CAAEC,cAAc,CAAKF,KAAK,CAAxBE,cAAc,CACxC,IAAAC,SAAA,CAAoCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEhCZ,SAAS,CAAC,UAAM,SACC,CAAAgB,eAAeA,CAAA,SAAAC,gBAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,iBAAA,EAAAA,gBAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA9B,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE2B,CAAA3B,KAAK,CAAC4B,GAAG,CAAC,mCAAmC,CAAE,CACpEC,OAAO,CAAE,CAAEC,aAAa,CAAEC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAE,CAC5D,CAAC,CAAC,QAFIV,QAAQ,CAAAG,QAAA,CAAAQ,IAAA,CAGdpB,aAAa,CAACS,QAAQ,CAACY,IAAI,CAAC,CAACT,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAE7BW,OAAO,CAACC,GAAG,CAAAZ,QAAA,CAAAU,EAAM,CAAC,CAAC,yBAAAV,QAAA,CAAAa,IAAA,MAAAjB,OAAA,gBAEtB,UAAAN,gBAAA,CAAAC,KAAA,MAAAC,SAAA,GAEDH,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEV,KAAA,WAAQmC,KAAK,CAAEhC,gBAAiB,CAACiC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAjC,cAAc,CAACiC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAAAI,QAAA,eAC/EzC,IAAA,WAAQqC,KAAK,CAAE,IAAK,CAAAI,QAAA,CAAC,WAAS,CAAQ,CAAC,CACtC/B,UAAU,CAACgC,GAAG,CAAC,SAACC,MAAM,qBACrB3C,IAAA,WAAwBqC,KAAK,CAAEM,MAAM,CAACC,EAAG,CAAAH,QAAA,IAAAI,MAAA,CACnCF,MAAM,CAACC,EAAE,MAAAC,MAAA,CAAIF,MAAM,CAACG,IAAI,MAAAD,MAAA,CAAIF,MAAM,CAACI,QAAQ,GADpCJ,MAAM,CAACC,EAEZ,CAAC,EACV,CAAC,EACI,CAAC,CAEb,CAEA,cAAe,CAAAzC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}